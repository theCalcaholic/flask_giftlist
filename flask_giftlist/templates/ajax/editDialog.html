{% extends 'formMaster.htm' %}
{% from "_formhelpers.htm" import ng_render_field %}

{% block form_attributes %}
    class='edit-gift_form'
    enctype='multipart/data'
    ng-submit='dialog.submit()'
    ng-show='dialog.shown'
    {#% if not claim_form.validate_on_submit() %}
        ng-init="vm.claimDialog.$setDirty(); vm.show();"
    {% endif %#}
{% endblock %}

{% block form_fields %}
    {#<input type='hidden' ng-model='vm.editDialog.csrfToken' value='{{ csrf_token() }}'></input>#}
    <p>
    {{ ng_render_field(edit_form.giftName, 
        **{ 'placeholder':"Name", 
            'ng-model': "dialog.gift.giftName",  
            'minlength': "3" }) }}
    <field-errors field="dialog.form.giftName"></field-errors>
    </p>
    <p>
    {% set args = {} %}
    {{ ng_render_field(edit_form.prize, 
        **{
            'placeholder': "Preis",
            'ng-model': "dialog.gift.prize"}) }}
    <field-errors field="dialog.form.prize"></field-errors>
    </p>
    <p>
    {{ ng_render_field( edit_form.url, 
        **{
            'placeholder': "URL",
            'file-model': "dialog.gift.url"}) }}
    <field-errors field="dialog.form.url"></field-errors>
    </p>
    <p>
    {{ ng_render_field(edit_form.imageFile, 
        **{
            'placeholder': "image",
            'onchange': "angular.element(this).scope().dialog.gift.imageFile = this.files[0]"}) }}
        <field-errors field="claimDialog.email_confirm"></field-errors>
    </p>
    <p>
    {{ ng_render_field(edit_form.description, 
        **{
            'placeholder': "Beschreibung",
            'ng-model': "dialog.gift.description"}) }}
    <field-errors field="dialog.form.description"></field-errors>
    <p>
    {{ ng_render_field(edit_form.mailText, 
        **{
            'placeholder': "ausf√ºhrliche Beschreibung",
            'ng-model': "dialog.gift.mailText"}) }}
    <field-errors field="dialog.form.mailText"></field-errors>
    </p>
    {#<p>
        {% for error in claim_form.recaptcha.errors %}
            {{ error }}
        {% endfor %}
    </p>#}
{% endblock %}
{% block form_buttons %}
    <button type='submit'>Ok</button>
{% endblock %}
